# Encoder_JPEG

**描述**：该工程在EP4CE6上实现了JPEG编码，并通过串口输出到电脑上，在电脑上保存为.jpeg文件即可打开图像。



## 工程接口

输入：（内置测试彩条图片）RGB888

输出：Jpeg码流，通过串口上传PC



## 复现过程

+ 



## 版本更新

### 已知问题

1、当前版本考虑时序和逻辑实现可行性，图像的长宽通过Parameter给定，综合后不可更改

2、当前版本考虑时序和逻辑实现可行性，图像的长宽需为 8（这与YUV444采样整数倍有关） 的整数倍

3、当前版本考虑时序和逻辑实现可行性，仅支持YUV444编码模式

4、当前版本考虑时序和逻辑实现可行性，暂未支持码率/质量调节



 ### 进度更新

**20231208：**

完成top.sv 接口设计

完成rgb_test.sv 测试彩条画面输出

完成top_tb.sv测试环境生成

测试彩条生成信号符合预期

![rgb_out1](modelsim/rgb_out1.png)

+ 上图为一个start信号，触发生成一帧RGB彩条时序

![rgb_out2](modelsim/rgb_out2.png)

+ 上图为一行内像素赋值000001 ~ 800000H



**20231209：**

完成RGB转YCBCR模块及其仿真测试

![rgb2ycbcr](modelsim/rgb2ycbcr.png)

+ 上图为RGB转YCBCR，转换值在误差范围内，例
  + 000080H RGB888 的YCBCR值为1DB877H，理论值1CB876H，误差+1，0，-1;
  + 008000H的YCBCR值为585b51H，理论值为585A51H，误差0，+1，0;
  + 800000H的YCBCR值为316DB7H，理论值316DB8H，误差0，0，-1；



**20231218：**

完成JPEG原理分析，见jpeg文件格式详解文件夹



**20231226：**

完成JPEG段内容封装及其测试，以下为输出文件头FFD8以及尾部FFD9的仿真

![jpeg封装](modelsim/jpeg封装.png)
